{% extends "base.html" %}
{% load static %}
{% block content %}

{# div below is the hook for htmx swap #}
<div id="search">
	
<div class="container mt-5 mb-5">
	
	<div class="row">
		<div class="col-md-6 col-9 mx-auto g-0 pb-2">
			{% include 'partials/nav/loading_icon.html' %}
			<p class="float-end">
				{% include 'partials/nav/list_icon.html' %}
				{% include 'partials/nav/user_icon.html' %}
			</p>
		</div>
	</div>
	
	<div class="row">
		<div class="col-md-6 col-9 mx-auto bg-white shadow-lg rounded">
			
			<h3 class="text-center pt-3">Search</h3>
			
			<div class="my-3">
				
				<input 
					type="text"
					name="search"
					class="form-control"
					placeholder="Type your search here" 
					id="searchInput"
					hx-trigger="keyup changed delay:500ms"
					hx-get="{% url 'log_search' %}"
					hx-include="[name='search']" 
					hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
					hx-target="#search-results"
					hx-indicator="#indicator"
				>

			</div>
			
			<div class="mt-3" id="search-results">
			{% if events %}
			<hr>
			
			{% include 'partials/collections/search_results.html' %}
			{% endif %}
			</div>
			
			
		</div>
			
		</div>
	</div>
</div>
</div>
{% endblock %}